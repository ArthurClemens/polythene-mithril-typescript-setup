{"version":3,"file":"polythene-css-drawer.js","sources":["../../polythene-css-classes/drawer.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component:       \"pe-dialog pe-drawer\",\n\n  // states\n  cover:           \"pe-drawer--cover\",\n  push:            \"pe-drawer--push\",\n  mini:            \"pe-drawer--mini\",\n  permanent:       \"pe-drawer--permanent\",\n  border:          \"pe-drawer--border\",\n  floating:        \"pe-drawer--floating\",\n  fixed:           \"pe-drawer--fixed\",\n  anchorEnd:       \"pe-drawer--anchor-end\",\n};\n","import { vars } from \"polythene-theme\";\nimport { mixin } from \"polythene-core-css\";\n\nconst SHADOW_WIDTH = 15;\n\nconst alignSide = isRTL => componentVars => ({\n  // Bordered\n  \".pe-drawer--border .pe-dialog__content\": {\n    borderStyle: isRTL ? \"none none none solid\" : \"none solid none none\"\n  },\n\n  // Fixed\n  \".pe-drawer--fixed\": {\n    [isRTL ? \"right\" : \"left\"]: 0,\n    [isRTL ? \"left\" : \"right\"]: \"auto\",\n  },\n\n  // Cover\n  \".pe-drawer--cover .pe-dialog__content\": {\n    [isRTL ? \"right\" : \"left\"]: `${-componentVars.content_max_width - SHADOW_WIDTH}px`,\n    [isRTL ? \"left\" : \"right\"]: \"auto\",\n  },\n  \".pe-drawer--cover.pe-dialog--visible .pe-dialog__content\": {\n    [isRTL ? \"right\" : \"left\"]: 0,\n    [isRTL ? \"left\" : \"right\"]: \"auto\"\n  },\n\n  // Push\n  \".pe-drawer--push .pe-dialog__content\": {\n    [isRTL ? \"marginRight\" : \"marginLeft\"]: `${-componentVars.permanent_content_width - SHADOW_WIDTH}px`,\n    [isRTL ? \"marginLeft\" : \"marginRight\"]: \"auto\",\n  },\n  \".pe-drawer--push.pe-dialog--visible .pe-dialog__content\": {\n    [isRTL ? \"marginRight\" : \"marginLeft\"]: 0,\n    [isRTL ? \"marginLeft\" : \"marginRight\"]: \"auto\"\n  },\n\n  // Mini\n  \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n    marginLeft: 0,\n    marginRight: 0,\n  },\n\n});\n\nconst alignLeft = alignSide(false);\n\nconst alignRight = alignSide(true);\n\nexport default (selector, componentVars) => [\n  {\n    [selector]: {\n      justifyContent: \"flex-start\",\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      right: 0,\n      bottom: 0,\n      zIndex: 1,\n      height: \"100%\",\n      padding: 0,\n      opacity: 1,\n\n      \" .pe-dialog__content\": [\n        mixin.defaultTransition(\"all\"), // animation duration is set in component options\n        {\n          position: \"relative\",\n          borderRadius: 0,\n          height: \"100%\",\n          overflow: \"visible\"\n        }\n      ],\n\n      \" .pe-dialog-pane__content\": {\n        height: \"100%\",\n        overflowY: \"auto\", \n        overflowX: \"hidden\", \n      },\n      \n      \" .pe-dialog-pane\": {\n        height: \"100%\",\n        minWidth: 0 // IE 11 does not accept \"none\" or \"inital\" here\n      },\n\n      \" .pe-dialog-pane__body\": {\n        overflow: \"visible\"\n      },\n\n      // Fixed\n      \".pe-drawer--fixed\": {\n        position: \"fixed\",\n        top: 0,\n        width: \"100%\",\n        zIndex: vars.z_app_bar,\n      },\n\n      // Permanent\n      \".pe-drawer--permanent:not(.pe-drawer--mini)\": {\n        position: \"static\",\n        display: \"block\",\n        padding: 0,\n        overflow: \"initial\",\n\n        \" .pe-dialog__content\": {\n          width: `${componentVars.permanent_content_width}px`,\n          overflow: \"visible\",\n          maxHeight: \"initial\",\n        }\n      },\n\n      // Floating\n      \".pe-drawer--floating\": {\n        height: \"auto\"\n      },\n\n      // Bordered\n      \".pe-drawer--border\": {\n        \" .pe-dialog__content\": {\n          borderWidth: \"1px\",\n        },\n      },\n\n      // Cover (default)\n      \".pe-drawer--cover\": {\n        \" .pe-dialog__content\": {\n          position: \"absolute\",\n          width: `calc(100% - ${componentVars.content_side_offset}px)`,\n          maxWidth: `${componentVars.content_max_width}px`,\n          top: 0,\n        }\n      },\n\n      // Push\n      \".pe-drawer--push\": {\n        position: \"static\",\n\n        \" .pe-dialog__content\": {\n          width: `${componentVars.permanent_content_width}px`,\n        }\n      },\n      \n      // Mini\n      \".pe-drawer--mini:not(.pe-dialog--visible) .pe-dialog__content\": {\n        width: `${componentVars.content_width_mini_collapsed}px`,\n      },\n\n      // Backdrop\n      \" .pe-dialog__backdrop, .pe-dialog__touch\": {\n        position: \"absolute\",\n        top: 0,\n        left: 0,\n        right: 0,\n        bottom: 0,\n      },\n      \" .pe-dialog__backdrop\": [\n        mixin.defaultTransition(\"all\"), // animation duration is set in component options\n        {\n          opacity: 0 \n        }\n      ],\n      \".pe-dialog--visible .pe-dialog__backdrop\": {\n        opacity: 1\n      }\n    },\n\n    [`*[dir=rtl] ${selector}.pe-drawer--anchor-end, .pe-rtl ${selector}.pe-drawer--anchor-end, ${selector}:not(.pe-drawer--anchor-end)`]: alignLeft(componentVars),\n\n    // RTL\n\n    [`*[dir=rtl] ${selector}, .pe-rtl ${selector}, ${selector}.pe-drawer--anchor-end`]: [\n      alignRight(componentVars)\n    ],\n\n    // Media queries\n\n    [\"@media (min-width: \" + vars.breakpoint_for_tablet_portrait_up + \"px)\"]: {\n      [selector]: {\n        \".pe-drawer--push\": {\n          \" .pe-dialog__content\": {\n            maxWidth: `${componentVars.content_max_width_large}px`,\n          }\n        },\n        \" .pe-dialog__content\": {\n          width: `calc(100% - ${componentVars.content_side_offset_large}px)`,\n          maxWidth: `${componentVars.content_max_width_large}px`,\n        },\n      }\n    }\n  },\n];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    \" .pe-dialog__content\": {\n      borderColor: componentVars[\"color_\" + tint + \"_border\"],\n      background: \"none\",\n    },\n    \" .pe-dialog-pane\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_background\"],\n    },\n    \" .pe-dialog__backdrop\": {\n      backgroundColor: componentVars[\"color_\" + tint + \"_backdrop_background\"]\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-core-css\";\nimport { vars } from \"polythene-core-drawer\";\nimport classes from \"polythene-css-classes/drawer\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component.replace(/ /g, \".\")}`;\n\nexport const addStyle = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);  \n\nexport const getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createStyleSheets([customSelector, selector], {...vars, ...customVars}, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n\nstyler.generateStyles([selector], vars, fns);\n"],"names":["component","cover","push","mini","permanent","border","floating","fixed","anchorEnd","SHADOW_WIDTH","alignSide","borderStyle","isRTL","componentVars","content_max_width","permanent_content_width","marginLeft","marginRight","alignLeft","alignRight","selector","justifyContent","position","top","left","right","bottom","zIndex","height","padding","opacity","mixin","defaultTransition","borderRadius","overflow","overflowY","overflowX","minWidth","width","vars","z_app_bar","display","maxHeight","borderWidth","content_side_offset","maxWidth","content_width_mini_collapsed","breakpoint_for_tablet_portrait_up","content_max_width_large","content_side_offset_large","style","scopes","tint","map","s","join","borderColor","background","backgroundColor","fns","layout","color","classes","replace","addStyle","customSelector","customVars","styler","generateStyles","getStyle","createStyleSheets"],"mappings":"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"}