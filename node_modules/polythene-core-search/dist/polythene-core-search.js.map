{"version":3,"file":"polythene-core-search.js","sources":["../../polythene-css-classes/search.js","../src/search.js","../src/vars.js"],"sourcesContent":["\nexport default {\n  component:       \"pe-search\",\n\n  // elements\n  content:         \"pe-search__content\",\n\n  // states\n  searchFullWidth: \"pe-search--full-width\",\n  searchInset:     \"pe-search--inset\",\n};\n","import { filterSupportedAttributes } from \"polythene-core\";\nimport classes from \"polythene-css-classes/search\";\n\nexport const getElement = vnode =>\n  vnode.attrs.element || \"div\";\n\nconst getNameOfState = state =>\n  state.focus && state.dirty\n    ? \"focus_dirty\"\n    : state.focus\n      ? \"focus\"\n      : state.dirty\n        ? \"dirty\"\n        : \"none\";\n\nexport const getInitialState = (vnode, createStream) => {\n  const searchState = createStream({});\n  return {\n    searchState\n  };\n};\n\nexport const createProps = (vnode, { keys: k }) => {\n  const attrs = vnode.attrs;\n  return Object.assign(\n    {},\n    filterSupportedAttributes(attrs),\n    {\n      className: [\n        classes.component,\n        attrs.fullWidth ? classes.searchFullWidth : classes.searchInset,\n        attrs.tone === \"dark\" ? \"pe-dark-tone\" : null,\n        attrs.tone === \"light\" ? \"pe-light-tone\" : null,\n        attrs.className || attrs[k.class],\n      ].join(\" \")\n    },\n    attrs.events\n  );\n};\n\nexport const createContent = (vnode, { renderer: h, TextField }) => {\n  const state = vnode.state;\n  const attrs = vnode.attrs;\n  const searchState = getNameOfState(state.searchState());\n  const buttons = (attrs.buttons || {})[searchState] || {};\n  const textfieldAttrs = attrs.textfield || {};\n  return h(\"div\",\n    { className: classes.content },\n    [\n      buttons.before,\n      h(TextField, Object.assign(\n        {},\n        textfieldAttrs,\n        {\n          key: \"input\",\n          onChange: newState => {\n            state.searchState(newState);\n            if (textfieldAttrs.onChange) {\n              textfieldAttrs.onChange(newState);\n            }\n          },\n        }\n      )),\n      buttons.after\n    ]\n  );\n};\n","import { vars } from \"polythene-theme\";\n\nconst rgba = (colorStr, opacity = 1) =>\n  `rgba(${colorStr}, ${opacity})`;\n\nconst insetSideMargin =                8;\nconst line_height_input =              20;\nconst font_size_input =                20;\nconst inset_height =                   48;\nconst inset_input_indent =             16;\nconst inset_input_right_padding =      0;\nconst inset_side_padding =             0;\nconst inset_border_radius =            vars.unit_block_border_radius;\nconst full_width_side_margin =         0;\nconst full_width_height =              56;\nconst full_width_side_padding =        insetSideMargin;\nconst full_width_input_right_padding = 0;\nconst full_width_border_radius =       0;\n\nexport default {\n  font_size_input,\n  line_height_input,\n\n  inset_height,\n  inset_input_indent,\n  inset_side_padding,\n  inset_input_right_padding,\n  inset_border_radius,\n\n  full_width_height,\n  full_width_side_margin,\n  full_width_side_padding,\n  full_width_input_right_padding,\n  full_width_border_radius,\n\n  color_light_label_text: rgba(vars.color_light_foreground, vars.blend_light_text_disabled),\n  color_light_input_text: rgba(vars.color_light_foreground, vars.blend_light_text_primary),\n  color_light_background: rgba(vars.color_light_background),\n\n  color_dark_label_text:  rgba(vars.color_dark_foreground, vars.blend_dark_text_disabled),\n  color_dark_input_text:  rgba(vars.color_dark_foreground, vars.blend_dark_text_primary),\n  color_dark_background:  rgba(vars.color_dark_background)\n};\n"],"names":["component","content","searchFullWidth","searchInset","getElement","vnode","attrs","element","getNameOfState","state","focus","dirty","getInitialState","createStream","searchState","createProps","k","keys","filterSupportedAttributes","className","classes","fullWidth","tone","class","join","events","createContent","h","renderer","TextField","buttons","textfieldAttrs","textfield","before","key","onChange","newState","after","rgba","colorStr","opacity","insetSideMargin","line_height_input","font_size_input","inset_height","inset_input_indent","inset_input_right_padding","inset_side_padding","inset_border_radius","vars","unit_block_border_radius","full_width_side_margin","full_width_height","full_width_side_padding","full_width_input_right_padding","full_width_border_radius","color_light_label_text","color_light_foreground","blend_light_text_disabled","color_light_input_text","blend_light_text_primary","color_light_background","color_dark_label_text","color_dark_foreground","blend_dark_text_disabled","color_dark_input_text","blend_dark_text_primary","color_dark_background"],"mappings":"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"}