{"version":3,"file":"polythene-css-ios-spinner.js","sources":["../../polythene-css-classes/ios-spinner.js","../src/layout.js","../src/color.js","../src/index.js"],"sourcesContent":["\nexport default {\n  component: \"pe-ios-spinner\",\n\n  // elements\n  blades:    \"pe-ios-spinner__blades\",\n  blade:     \"pe-ios-spinner__blade\",\n};\n","\nconst bladeWidth  = 9; // percent\nconst bladeHeight = 28; // percent\n\nconst kfFade = () => ({\n  \" 0%\": {\n    opacity: .640\n  },\n  \" 100%\": {\n    opacity: .035\n  }\n});\n\nconst positionBlades = componentVars => \n  [0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11].map(i => {\n    // reverse to improve performance on iOS\n    const delay = -1 / 12 * i * componentVars.animation_duration;\n    const rotation = 360 - (360 / 12 * i);\n    return {\n      [\" .pe-ios-spinner__blade:nth-of-type(\" + (i + 1) + \")\"]: {\n        transform: \"rotate(\" + rotation + \"deg) translate3d(0,-140%,0)\",\n        animation: \"iosSpinnerFade \" + componentVars.animation_duration + \"s \" + delay + \"s linear infinite\"\n      }\n    };\n  });\n\nexport default (selector, componentVars) => [{\n  [selector]: {\n    \" .pe-ios-spinner__blades\": [\n      positionBlades(componentVars),\n      {\n        transform: \"translate3d(0,0,0)\",\n        position: \"relative\",\n        width: \"100%\",\n        height: \"100%\"\n      }\n    ],\n\n    \" .pe-ios-spinner__blade\": {\n      position: \"absolute\",\n      width: bladeWidth + \"%\",\n      height: bladeHeight + \"%\",\n      left: ((100 - bladeWidth) / 2) + \"%\",\n      top: ((100 - bladeHeight) / 2) + \"%\",\n      opacity: 0,\n      borderRadius: \"50px\"\n    },\n\n    \"@keyframes iosSpinnerFade\": kfFade()\n  }\n}];\n","\nconst style = (scopes, selector, componentVars, tint) => [{\n  [scopes.map(s => s + selector).join(\",\")]: {\n    color: componentVars[\"color_\" + tint],\n\n    \" .pe-ios-spinner__blade\": {\n      background: \"currentcolor\"\n    }\n  }\n}];\n\nexport default (selector, componentVars) => [\n  style([\".pe-dark-tone\", \".pe-dark-tone \"], selector, componentVars, \"dark\"), // has/inside dark tone\n  style([\"\", \".pe-light-tone\", \".pe-light-tone \"], selector, componentVars, \"light\"), // normal, has/inside light tone\n];\n","import { styler } from \"polythene-core-css\";\nimport { vars } from \"polythene-core-ios-spinner\";\nimport classes from \"polythene-css-classes/ios-spinner\";\nimport layout from \"./layout\";\nimport color from \"./color\";\n\nconst fns = [layout, color];\nconst selector = `.${classes.component}`;\n\nexport const addStyle = (customSelector, customVars) => \n  styler.generateStyles([customSelector, selector], {...vars, ...customVars}, fns);\n\nexport const getStyle = (customSelector, customVars) => \n  customSelector\n    ? styler.createStyleSheets([customSelector, selector], {...vars, ...customVars}, fns)\n    : styler.createStyleSheets([selector], vars, fns);\n    \nstyler.generateStyles([selector], vars, fns);\n"],"names":["component","blades","blade","bladeWidth","bladeHeight","kfFade","opacity","positionBlades","map","delay","i","componentVars","animation_duration","rotation","transform","animation","selector","position","width","height","left","top","borderRadius","style","scopes","tint","s","join","color","background","fns","layout","classes","addStyle","customSelector","customVars","styler","generateStyles","vars","getStyle","createStyleSheets"],"mappings":"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"}